<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000">
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top">
  
  
  <title>[神经网络与深度学习][5][卷积神经网络] | T0UGU BLOG</title>
  <meta name="description" content="第5章 卷积神经网络  一切都应该尽可能地简单，但不能过于简单  卷积神经网络（Convolutional Neural Network，CNN 或ConvNet）是一种具有局部连接、权重共享等特性的深层前馈神经网络． 卷积神经网络最早主要是用来处理图像信息．在用全连接前馈网络来处理图像时，会存在以下两个问题：  参数太多：会导致整个神经网络的训练效率非常低，也很容易出现过拟合． 无法提取局部不">
<meta name="keywords" content="机器学习">
<meta property="og:type" content="article">
<meta property="og:title" content="[神经网络与深度学习][5][卷积神经网络]">
<meta property="og:url" content="https://t0ugh.biz/2020/11/11/神经网络与深度学习-5-卷积神经网络/index.html">
<meta property="og:site_name" content="打怪升级日常">
<meta property="og:description" content="第5章 卷积神经网络  一切都应该尽可能地简单，但不能过于简单  卷积神经网络（Convolutional Neural Network，CNN 或ConvNet）是一种具有局部连接、权重共享等特性的深层前馈神经网络． 卷积神经网络最早主要是用来处理图像信息．在用全连接前馈网络来处理图像时，会存在以下两个问题：  参数太多：会导致整个神经网络的训练效率非常低，也很容易出现过拟合． 无法提取局部不">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://i.loli.net/2020/09/20/Tz9abiSFQjuUtOM.png">
<meta property="og:image" content="https://i.loli.net/2020/09/20/6x1W32BvaUmD7Fj.png">
<meta property="og:image" content="https://i.loli.net/2020/09/20/oEwzUepcQBLPtFk.png">
<meta property="og:image" content="https://i.loli.net/2020/09/20/Me3hv6NRaoWG1H2.png">
<meta property="og:image" content="https://i.loli.net/2020/09/21/KDRw6kNFHoZ5xTt.png">
<meta property="og:image" content="https://i.loli.net/2020/09/21/iy9bqvYMcXl6zZs.png">
<meta property="og:image" content="https://i.loli.net/2020/09/21/kWgUNAqT7SRJxbe.png">
<meta property="og:image" content="https://i.loli.net/2020/09/21/NqjWRuzdJO7I4Mn.png">
<meta property="og:image" content="https://i.loli.net/2020/09/21/cu7VIMOBEYp2kli.png">
<meta property="og:image" content="https://i.loli.net/2020/09/22/THvSnIouM5K4s9O.png">
<meta property="og:image" content="https://i.loli.net/2020/09/22/eaP91QKCDZXjcVo.png">
<meta property="og:image" content="https://i.loli.net/2020/09/22/hFTgKBrd3a5LOcp.png">
<meta property="og:image" content="https://i.loli.net/2020/09/22/MPLN93ekRBHqcOT.png">
<meta property="og:image" content="https://i.loli.net/2020/09/22/LDTzsAWhecInyi7.png">
<meta property="og:image" content="https://i.loli.net/2020/09/22/4ZiVTInY1CQj5Na.png">
<meta property="og:image" content="https://i.loli.net/2020/09/22/LIn9KmtHbRvPODr.png">
<meta property="og:image" content="https://i.loli.net/2020/09/22/CIqvVzGBXHRZPSy.png">
<meta property="og:image" content="https://t0ugh.biz/2020/11/11/神经网络与深度学习-5-卷积神经网络/C:%5CUsers%5CMSI-NB%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200922132111858.png">
<meta property="og:image" content="https://i.loli.net/2020/09/22/HLfaIpCTXBx7SwD.png">
<meta property="og:image" content="https://i.loli.net/2020/09/22/XM2LqTftBI6418E.png">
<meta property="og:updated_time" content="2020-11-11T09:14:53.330Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="[神经网络与深度学习][5][卷积神经网络]">
<meta name="twitter:description" content="第5章 卷积神经网络  一切都应该尽可能地简单，但不能过于简单  卷积神经网络（Convolutional Neural Network，CNN 或ConvNet）是一种具有局部连接、权重共享等特性的深层前馈神经网络． 卷积神经网络最早主要是用来处理图像信息．在用全连接前馈网络来处理图像时，会存在以下两个问题：  参数太多：会导致整个神经网络的训练效率非常低，也很容易出现过拟合． 无法提取局部不">
<meta name="twitter:image" content="https://i.loli.net/2020/09/20/Tz9abiSFQjuUtOM.png">
  <!-- Canonical links -->
  <link rel="canonical" href="https://t0ugh.biz/2020/11/11/神经网络与深度学习-5-卷积神经网络/index.html">
  
    <link rel="alternate" href="/atom.xml" title="打怪升级日常" type="application/atom+xml">
  
  
    <link rel="icon" href="https://i.loli.net/2020/03/21/WAKimNUecFR64uo.jpg" type="image/x-icon">
  
  <link rel="stylesheet" href="/css/style.css">
  
  
  
  
</head>


<body class="main-center" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope="" itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://github.com/t0ugh" target="_blank">
          <img class="img-circle img-rotate" src="https://i.loli.net/2020/03/21/WAKimNUecFR64uo.jpg" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">T0UGH</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md">学生&amp;编程爱好者</h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> ShenYang, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="Search">
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="Type something..." x-webkit-speech="">
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope="" itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav ">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">Home</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            
            <i class="icon icon-cup-fill"></i>
            
            <span class="menu-title">About</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">Archives</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">Categories</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            
            <i class="icon icon-tags"></i>
            
            <span class="menu-title">Tags</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/t0ugh" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle="tooltip" data-placement="top"><i class="icon icon-rss"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope="" itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">Board</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p>东北大学软件工程本科在读</p><p>我的邮箱:wang.g.p@foxmail.com</p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">Categories</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/C/">C++</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Docker/">Docker</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Flink/">Flink</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/GitHub/">GitHub</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java并发/">Java并发</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Junit/">Junit</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/MyBatis/">MyBatis</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/MySQL/">MySQL</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/SSM/">SSM</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/SpringBoot/">SpringBoot</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tensorflow/">Tensorflow</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tomcat/">Tomcat</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/c/">c</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/jvm/">jvm</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/linux/vim/">vim</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/nlp/">nlp</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/">other</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/redis/">redis</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/vue/">vue</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/微服务设计/">微服务设计</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/敏捷开发/">敏捷开发</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据结构/">数据结构</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/流畅的Python/">流畅的Python</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/深度学习/">深度学习</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/算法导论/">算法导论</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/蓝桥杯/">蓝桥杯</a><span class="category-list-count">2</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Tags</h3>
    <div class="widget-body">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AOP/">AOP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C++</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CNN/">CNN</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/">Docker</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6/">ES6</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flink/">Flink</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GitHub/">GitHub</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GithubFlow/">GithubFlow</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JAVA/">JAVA</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Junit/">Junit</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LSTM/">LSTM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MNIST/">MNIST</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MongoDB/">MongoDB</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MyBatis/">MyBatis</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/">MySQL</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NLP/">NLP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/REST/">REST</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RNN/">RNN</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/">Redis</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Scrum/">Scrum</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/">Spring</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot/">SpringBoot</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringCloud/">SpringCloud</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringMVC/">SpringMVC</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tensorflow/">Tensorflow</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tomcat/">Tomcat</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/YAML/">YAML</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/aof/">aof</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c/">c</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jvm/">jvm</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nlp/">nlp</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rdb/">rdb</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/">redis</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/">vue</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/中文分词/">中文分词</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/关键词提取/">关键词提取</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/分治算法/">分治算法</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/动态规划/">动态规划</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/大数据/">大数据</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/并发/">并发</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/微服务/">微服务</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/微服务设计/">微服务设计</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/排序/">排序</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/敏捷原则/">敏捷原则</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/敏捷宣言/">敏捷宣言</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/敏捷开发/">敏捷开发</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库事务/">数据库事务</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构/">数据结构</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/机器学习/">机器学习</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/流处理/">流处理</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/深度学习/">深度学习</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/神经网络/">神经网络</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法导论/">算法导论</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/蓝桥杯/">蓝桥杯</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/词性标注/">词性标注</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/贪心算法/">贪心算法</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/软件测试/">软件测试</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget-body tagcloud">
      <a href="/tags/AOP/" style="font-size: 13px;">AOP</a> <a href="/tags/C/" style="font-size: 13.17px;">C++</a> <a href="/tags/CNN/" style="font-size: 13px;">CNN</a> <a href="/tags/Docker/" style="font-size: 13.17px;">Docker</a> <a href="/tags/ES6/" style="font-size: 13px;">ES6</a> <a href="/tags/Flink/" style="font-size: 13.42px;">Flink</a> <a href="/tags/Git/" style="font-size: 13px;">Git</a> <a href="/tags/GitHub/" style="font-size: 13.17px;">GitHub</a> <a href="/tags/GithubFlow/" style="font-size: 13px;">GithubFlow</a> <a href="/tags/JAVA/" style="font-size: 13px;">JAVA</a> <a href="/tags/Java/" style="font-size: 13.33px;">Java</a> <a href="/tags/JavaScript/" style="font-size: 13.17px;">JavaScript</a> <a href="/tags/Junit/" style="font-size: 13px;">Junit</a> <a href="/tags/LSTM/" style="font-size: 13px;">LSTM</a> <a href="/tags/MNIST/" style="font-size: 13px;">MNIST</a> <a href="/tags/MongoDB/" style="font-size: 13px;">MongoDB</a> <a href="/tags/MyBatis/" style="font-size: 14px;">MyBatis</a> <a href="/tags/MySQL/" style="font-size: 13.25px;">MySQL</a> <a href="/tags/NLP/" style="font-size: 13px;">NLP</a> <a href="/tags/Python/" style="font-size: 13.83px;">Python</a> <a href="/tags/REST/" style="font-size: 13px;">REST</a> <a href="/tags/RNN/" style="font-size: 13.08px;">RNN</a> <a href="/tags/Redis/" style="font-size: 13.17px;">Redis</a> <a href="/tags/Scrum/" style="font-size: 13.08px;">Scrum</a> <a href="/tags/Spring/" style="font-size: 13.25px;">Spring</a> <a href="/tags/SpringBoot/" style="font-size: 13.58px;">SpringBoot</a> <a href="/tags/SpringCloud/" style="font-size: 13.08px;">SpringCloud</a> <a href="/tags/SpringMVC/" style="font-size: 13.17px;">SpringMVC</a> <a href="/tags/Tensorflow/" style="font-size: 13.58px;">Tensorflow</a> <a href="/tags/Tomcat/" style="font-size: 13.08px;">Tomcat</a> <a href="/tags/YAML/" style="font-size: 13px;">YAML</a> <a href="/tags/aof/" style="font-size: 13px;">aof</a> <a href="/tags/c/" style="font-size: 13px;">c</a> <a href="/tags/java/" style="font-size: 13.67px;">java</a> <a href="/tags/jvm/" style="font-size: 13.42px;">jvm</a> <a href="/tags/linux/" style="font-size: 13px;">linux</a> <a href="/tags/nlp/" style="font-size: 13.17px;">nlp</a> <a href="/tags/rdb/" style="font-size: 13px;">rdb</a> <a href="/tags/redis/" style="font-size: 13.92px;">redis</a> <a href="/tags/vue/" style="font-size: 13.08px;">vue</a> <a href="/tags/中文分词/" style="font-size: 13px;">中文分词</a> <a href="/tags/关键词提取/" style="font-size: 13px;">关键词提取</a> <a href="/tags/分治算法/" style="font-size: 13px;">分治算法</a> <a href="/tags/动态规划/" style="font-size: 13.17px;">动态规划</a> <a href="/tags/大数据/" style="font-size: 13.42px;">大数据</a> <a href="/tags/并发/" style="font-size: 13.33px;">并发</a> <a href="/tags/微服务/" style="font-size: 13.33px;">微服务</a> <a href="/tags/微服务设计/" style="font-size: 13.33px;">微服务设计</a> <a href="/tags/排序/" style="font-size: 13.17px;">排序</a> <a href="/tags/敏捷原则/" style="font-size: 13px;">敏捷原则</a> <a href="/tags/敏捷宣言/" style="font-size: 13px;">敏捷宣言</a> <a href="/tags/敏捷开发/" style="font-size: 13.25px;">敏捷开发</a> <a href="/tags/数据库事务/" style="font-size: 13.08px;">数据库事务</a> <a href="/tags/数据结构/" style="font-size: 13.33px;">数据结构</a> <a href="/tags/机器学习/" style="font-size: 13.5px;">机器学习</a> <a href="/tags/流处理/" style="font-size: 13.42px;">流处理</a> <a href="/tags/深度学习/" style="font-size: 13.75px;">深度学习</a> <a href="/tags/神经网络/" style="font-size: 13px;">神经网络</a> <a href="/tags/算法/" style="font-size: 13.08px;">算法</a> <a href="/tags/算法导论/" style="font-size: 13.67px;">算法导论</a> <a href="/tags/蓝桥杯/" style="font-size: 13.08px;">蓝桥杯</a> <a href="/tags/词性标注/" style="font-size: 13px;">词性标注</a> <a href="/tags/贪心算法/" style="font-size: 13px;">贪心算法</a> <a href="/tags/软件测试/" style="font-size: 13px;">软件测试</a>
    </div>
  </div>

    
      
  <div class="widget">
    <h3 class="widget-title">Archive</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a><span class="archive-list-count">17</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a><span class="archive-list-count">20</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a><span class="archive-list-count">40</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Java并发/">Java并发</a>
              </p>
              <p class="item-title">
                <a href="/2020/11/11/Java并发-5-Java中的锁/" class="title">[Java并发][5][Java中的锁]</a>
              </p>
              <p class="item-date">
                <time datetime="2020-11-11T09:21:10.000Z" itemprop="datePublished">2020-11-11</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Java并发/">Java并发</a>
              </p>
              <p class="item-title">
                <a href="/2020/11/11/Java并发-4-Java并发编程基础/" class="title">[Java并发][4][Java并发编程基础]</a>
              </p>
              <p class="item-date">
                <time datetime="2020-11-11T09:20:40.000Z" itemprop="datePublished">2020-11-11</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Java并发/">Java并发</a>
              </p>
              <p class="item-title">
                <a href="/2020/11/11/Java并发-3-Java内存模型/" class="title">[Java并发][3][Java内存模型]</a>
              </p>
              <p class="item-date">
                <time datetime="2020-11-11T09:20:05.000Z" itemprop="datePublished">2020-11-11</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Java并发/">Java并发</a>
              </p>
              <p class="item-title">
                <a href="/2020/11/11/Java并发-2-Java并发机制的底层实现原理/" class="title">[Java并发][2][Java并发机制的底层实现原理]</a>
              </p>
              <p class="item-date">
                <time datetime="2020-11-11T09:19:20.000Z" itemprop="datePublished">2020-11-11</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/Java并发/">Java并发</a>
              </p>
              <p class="item-title">
                <a href="/2020/11/11/Java并发-1-并发编程的挑战/" class="title">[Java并发][1][并发编程的挑战]</a>
              </p>
              <p class="item-date">
                <time datetime="2020-11-11T09:18:26.000Z" itemprop="datePublished">2020-11-11</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<main class="main" role="main">
  <div class="content">
    <article id="post-神经网络与深度学习-5-卷积神经网络" class="article article-type-post" itemscope="" itemtype="http://schema.org/BlogPosting">
        
            <div class="article-header">
                
                    
  
    <h1 class="article-title" itemprop="name">
      [神经网络与深度学习][5][卷积神经网络]
    </h1>
  

                        
                            <div class="article-meta">
                                <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2020/11/11/神经网络与深度学习-5-卷积神经网络/" class="article-date">
	  <time datetime="2020-11-11T09:14:32.000Z" itemprop="datePublished">2020-11-11</time>
	</a>
</span>
                                    
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/深度学习/">深度学习</a>
  </span>

                                        
  <span class="article-tag">
    <i class="icon icon-tags"></i>
	<a class="article-tag-link" href="/tags/机器学习/">机器学习</a>
  </span>


                                            

                                                <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2020/11/11/神经网络与深度学习-5-卷积神经网络/#comments" class="article-comment-link">Comments</a></span>
                                                
                            </div>
            </div>
            <div class="article-entry marked-body" itemprop="articleBody">
                
                                    
                                        <div id="toc">
                                            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#第5章-卷积神经网络"><span class="toc-text"> 第5章 卷积神经网络</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#51-卷积"><span class="toc-text"> 5.1 卷积</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#511-卷积的定义"><span class="toc-text"> 5.1.1 卷积的定义</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#5111-一维卷积"><span class="toc-text"> 5.1.1.1 一维卷积</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5112-二维卷积"><span class="toc-text"> 5.1.1.2 二维卷积</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#512-互相关"><span class="toc-text"> 5.1.2 互相关</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#513-卷积的变种"><span class="toc-text"> 5.1.3 卷积的变种</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#52-卷积神经网络"><span class="toc-text"> 5.2 卷积神经网络</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#521-用卷积代替全连接"><span class="toc-text"> 5.2.1 用卷积代替全连接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#522-卷积层"><span class="toc-text"> 5.2.2 卷积层</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#523-汇聚层"><span class="toc-text"> 5.2.3 汇聚层</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#524-卷积网络的整体结构"><span class="toc-text"> 5.2.4 卷积网络的整体结构</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#53-参数学习"><span class="toc-text"> 5.3 参数学习</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#531-卷积神经网络的反向传播算法"><span class="toc-text"> 5.3.1 卷积神经网络的反向传播算法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#5311-汇聚层误差项计算"><span class="toc-text"> 5.3.1.1 汇聚层误差项计算</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5312-卷积层误差项计算"><span class="toc-text"> 5.3.1.2 卷积层误差项计算</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#54-几种典型的卷积神经网络"><span class="toc-text"> 5.4 几种典型的卷积神经网络</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#541-lenet-5"><span class="toc-text"> 5.4.1 LeNet-5</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#5411-连接表"><span class="toc-text"> 5.4.1.1 连接表</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#542-alexnet"><span class="toc-text"> 5.4.2 AlexNet</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#543-inception网络"><span class="toc-text"> 5.4.3 Inception网络</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#544-残差网络"><span class="toc-text"> 5.4.4 残差网络</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#55-其他卷积方式"><span class="toc-text"> 5.5 其他卷积方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#551-转置卷积"><span class="toc-text"> 5.5.1 转置卷积</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#5511-微步卷积"><span class="toc-text"> 5.5.1.1 微步卷积</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#552-空洞卷积"><span class="toc-text"> 5.5.2 空洞卷积</span></a></li></ol></li></ol></li></ol>
                                        </div>
                                        
                                            <h2 id="第5章-卷积神经网络"><a class="markdownIt-Anchor" href="#第5章-卷积神经网络"></a> 第5章 卷积神经网络</h2>
<blockquote>
<p>一切都应该尽可能地简单，但不能过于简单</p>
</blockquote>
<p><strong>卷积神经网络</strong>（Convolutional Neural Network，CNN 或ConvNet）是一种具有<strong>局部连接</strong>、<strong>权重共享</strong>等特性的<strong>深层前馈神经网络</strong>．</p>
<p><strong>卷积神经网络</strong>最早主要是用来<strong>处理图像</strong>信息．在用<strong>全连接</strong>前馈网络来处理图像时，会存在以下两个<strong>问题</strong>：</p>
<ol>
<li><strong>参数太多</strong>：会导致整个神经网络的<strong>训练效率非常低</strong>，也很容易出现<strong>过拟合</strong>．</li>
<li>无法提取<strong>局部不变性</strong>特征：<strong>自然图像</strong>中的物体都具有<strong>局部不变性特征</strong>，比如尺度缩放、平移、旋转等操作不影响其语义信息．而<strong>全连接前馈网络</strong>很<strong>难提取</strong>这些局部不变性特征，一般需要进行数据增强来提高性能．</li>
</ol>
<p><strong>卷积神经网络</strong>是受生物学上<strong>感受野机制</strong>的启发而提出的．<strong>感受野（Receptive Field）机制</strong>主要是指<strong>听觉、视觉</strong>等神经系统中一些<strong>神经元</strong>的<strong>特性</strong>，即<strong>神经元只接受其所支配的刺激区域内的信号</strong>．例如，在视觉神经系统中，视觉皮层中的<strong>神经细胞的输出</strong>依赖于视网膜上的<strong>光感受器</strong>．视网膜上的<strong>光感受器受刺激</strong>兴奋时，将神经冲动<strong>信号传到视觉皮层</strong>，但<strong>不是所有</strong>视觉皮层中的神经元<strong>都</strong>会<strong>接受</strong>这些信号．一<strong>个神经元的感受野是指视网膜上的特定区域，只有这个区域内的刺激才能够激活该神经元．</strong></p>
<p>目前的卷积神经网络一般是由<strong>卷积层</strong>、<strong>汇聚层</strong>和<strong>全连接层</strong>交叉堆叠而成的<strong>前馈神经网络</strong>．卷积神经网络有三个结构上的特性：<strong>局部连接</strong>、<strong>权重共享</strong>以及<strong>汇聚</strong>．这些特性使得卷积神经网络具有一定程度上的平移、缩放和旋转不变性．和前馈神经网络相比，卷积神经网络的参<strong>数更少</strong>．</p>
<p>卷积神经网络主要使用在<strong>图像</strong>和视频分析的各种任务（比如<strong>图像分类</strong>、<strong>人脸识别</strong>、<strong>物体识别</strong>、<strong>图像分割</strong>等）上，其准确率一般也远远超出了其他的神经网络模型．近年来卷积神经网络也广泛地应用到自然语言处理、推荐系统等领域．</p>
<h3 id="51-卷积"><a class="markdownIt-Anchor" href="#51-卷积"></a> 5.1 卷积</h3>
<h4 id="511-卷积的定义"><a class="markdownIt-Anchor" href="#511-卷积的定义"></a> 5.1.1 卷积的定义</h4>
<p><strong>卷积</strong>（Convolution），也叫褶积，是分析数学中一种重要的运算．在<strong>信号处理</strong>或<strong>图像处理</strong>中，经常使用一维或二维卷积．</p>
<h5 id="5111-一维卷积"><a class="markdownIt-Anchor" href="#5111-一维卷积"></a> 5.1.1.1 一维卷积</h5>
<p>略</p>
<h5 id="5112-二维卷积"><a class="markdownIt-Anchor" href="#5112-二维卷积"></a> 5.1.1.2 二维卷积</h5>
<p>给定一个<strong>图像</strong> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>𝑿</mi><mo>∈</mo><msup><mi mathvariant="normal">R</mi><mrow><mi>𝑀</mi><mo>×</mo><mi>𝑁</mi></mrow></msup></mrow><annotation encoding="application/x-tex">𝑿 ∈ ℝ^{𝑀×𝑁}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72521em;vertical-align:-0.0391em;"></span><span class="mord boldsymbol" style="margin-right:0.15681em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord amsrm">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span></span></span></span> 和一个<strong>滤波器</strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>W</mi><mo>∈</mo><msup><mi mathvariant="normal">R</mi><mrow><mi>𝑈</mi><mo>×</mo><mi>𝑉</mi></mrow></msup></mrow><annotation encoding="application/x-tex">W ∈ ℝ^{𝑈×𝑉}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord amsrm">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">U</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.22222em;">V</span></span></span></span></span></span></span></span></span></span></span></span> ，一般<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>𝑈</mi><mo>&lt;</mo><mo>&lt;</mo><mi>𝑀</mi><mo separator="true">,</mo><mi>𝑉</mi><mo>&lt;</mo><mo>&lt;</mo><mi>𝑁</mi></mrow><annotation encoding="application/x-tex">𝑈 &lt;&lt; 𝑀, 𝑉 &lt;&lt; 𝑁</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">V</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>，其<strong>卷积</strong>为</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>y</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><munderover><mo>∑</mo><mrow><mi>u</mi><mo>=</mo><mn>1</mn></mrow><mi>U</mi></munderover><munderover><mo>∑</mo><mrow><mi>v</mi><mo>=</mo><mn>1</mn></mrow><mi>V</mi></munderover><msub><mi>w</mi><mrow><mi>u</mi><mi>v</mi></mrow></msub><msub><mi>x</mi><mrow><mi>i</mi><mo>−</mo><mi>u</mi><mo>+</mo><mn>1</mn><mo separator="true">,</mo><mi>j</mi><mo>−</mo><mi>u</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">y_{ij} = \sum ^U _{u=1} \sum ^V _{v=1} w_{uv}x_{i-u+1,j-u+1}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0954490000000003em;vertical-align:-1.267113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">U</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">−</span><span class="mord mathdefault mtight">u</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mbin mtight">−</span><span class="mord mathdefault mtight">u</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>输入信息𝑿 和滤波器𝑾 的<strong>二维卷积</strong>定义为</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>𝒀</mi><mo>=</mo><mi>𝑾</mi><mi mathvariant="normal">∗</mi><mi>𝑿</mi></mrow><annotation encoding="application/x-tex">𝒀 = 𝑾 ∗ 𝑿
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord boldsymbol" style="margin-right:0.19803em;">Y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord boldsymbol" style="margin-right:0.18625em;">W</span><span class="mord">∗</span><span class="mord boldsymbol" style="margin-right:0.15681em;">X</span></span></span></span></span></p>
<p><img src="https://i.loli.net/2020/09/20/Tz9abiSFQjuUtOM.png" alt=""></p>
<p><strong>注意：卷积操作中，滤波器翻转了180度</strong>，仔细看上图1和-1分别乘了哪个元素</p>
<p>在图像处理中，卷积经常作为特征提取的有效方法．一幅图像在经过卷积操作后得到结果称为<strong>特征映射</strong>（Feature Map）．图5.3给出在图像处理中几种常用的滤波器，以及其对应的特征映射．图中最上面的滤波器是常用的<strong>高斯滤波器</strong>，可以用来对图像进行<strong>平滑去噪</strong>；<strong>中间</strong>和最<strong>下面</strong>的滤波器可以用来<strong>提取边缘特征</strong>．</p>
<p><img src="https://i.loli.net/2020/09/20/6x1W32BvaUmD7Fj.png" alt=""></p>
<h4 id="512-互相关"><a class="markdownIt-Anchor" href="#512-互相关"></a> 5.1.2 互相关</h4>
<p>在计算卷积的过程中，需要进行卷积核翻转．在具体实现上，一般会以互相关操作来代替卷积，从而会减少一些不必要的操作或开销．</p>
<p>给定一个图像<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>𝑿</mi><mo>∈</mo><msup><mi mathvariant="normal">R</mi><mrow><mi>𝑀</mi><mo>×</mo><mi>𝑁</mi></mrow></msup></mrow><annotation encoding="application/x-tex">𝑿 ∈ ℝ^{𝑀×𝑁}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72521em;vertical-align:-0.0391em;"></span><span class="mord boldsymbol" style="margin-right:0.15681em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord amsrm">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span></span></span></span> 和卷积核<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>𝑾</mi><mo>∈</mo><msup><mi mathvariant="normal">R</mi><mrow><mi>U</mi><mo>×</mo><mi>V</mi></mrow></msup></mrow><annotation encoding="application/x-tex">𝑾 ∈ ℝ^{U×V}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72521em;vertical-align:-0.0391em;"></span><span class="mord boldsymbol" style="margin-right:0.18625em;">W</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord amsrm">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">U</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.22222em;">V</span></span></span></span></span></span></span></span></span></span></span></span> ，它们的<strong>互相关</strong>为</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>𝑦</mi><mrow><mi>𝑖</mi><mi>𝑗</mi></mrow></msub><mo>=</mo><munderover><mo>∑</mo><mrow><mi>u</mi><mo>=</mo><mn>1</mn></mrow><mi>U</mi></munderover><munderover><mo>∑</mo><mrow><mi>v</mi><mo>=</mo><mn>1</mn></mrow><mi>V</mi></munderover><msub><mi>w</mi><mrow><mi>u</mi><mi>v</mi></mrow></msub><msub><mi>x</mi><mrow><mi>i</mi><mo>+</mo><mi>u</mi><mo>−</mo><mn>1</mn><mo separator="true">,</mo><mi>j</mi><mo>+</mo><mi>v</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">𝑦_{𝑖𝑗} = \sum ^U _{u=1} \sum ^V _{v=1} w_{uv}x_{i+u-1,j+v-1}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0954490000000003em;vertical-align:-1.267113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">U</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.882887em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.267113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight">u</span><span class="mbin mtight">−</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>和公式(5.7) 对比可知，互相关和卷积的<strong>区别</strong>仅仅在于<strong>卷积核是否进行翻转</strong>．因此<strong>互相关</strong>也可以称为不翻转卷积．</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>𝒀</mi><mo>=</mo><mi>𝑾</mi><mo>⊗</mo><mi>𝑿</mi><mo>=</mo><mi>r</mi><mi>o</mi><mi>t</mi><mn>180</mn><mo stretchy="false">(</mo><mi>𝑾</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∗</mi><mi>𝑿</mi></mrow><annotation encoding="application/x-tex">𝒀 = 𝑾 ⊗ 𝑿 = rot180(𝑾) ∗ 𝑿
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord boldsymbol" style="margin-right:0.19803em;">Y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76944em;vertical-align:-0.08333em;"></span><span class="mord boldsymbol" style="margin-right:0.18625em;">W</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord boldsymbol" style="margin-right:0.15681em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault">t</span><span class="mord">1</span><span class="mord">8</span><span class="mord">0</span><span class="mopen">(</span><span class="mord boldsymbol" style="margin-right:0.18625em;">W</span><span class="mclose">)</span><span class="mord">∗</span><span class="mord boldsymbol" style="margin-right:0.15681em;">X</span></span></span></span></span></p>
<p>其中<strong>⊗</strong> 表示<strong>互相关运算</strong>，<strong>rot180(⋅)</strong> 表示<strong>旋转180 度</strong>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Y</mi><mo>∈</mo><msup><mi mathvariant="normal">R</mi><mrow><mi>M</mi><mi mathvariant="normal">−</mi><mi>U</mi><mo>+</mo><mn>1</mn><mo separator="true">,</mo><mi>N</mi><mi mathvariant="normal">−</mi><mi>V</mi><mo>+</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">Y ∈ ℝ^{M−U+1,N−V+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord amsrm">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span><span class="mord mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">U</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span><span class="mord mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.22222em;">V</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> 为<strong>输出矩阵</strong></p>
<p>在<strong>神经网络中使用卷积</strong>是为了进行<strong>特征抽取</strong>，卷积核<strong>是否进行翻转</strong>和其<strong>特征抽取的能力无关</strong>．特别是当<strong>卷积核</strong>是<strong>可学习</strong>的参数时，<strong>卷积</strong>和<strong>互相关</strong>在<strong>能力上</strong>是<strong>等价</strong>的．因此，为了实现上（或描述上）的<strong>方便</strong>起见，我们<strong>用互相关来代替卷积</strong>．事实上，很多深度学习工具中卷积操作其实都是互相关操作．</p>
<h4 id="513-卷积的变种"><a class="markdownIt-Anchor" href="#513-卷积的变种"></a> 5.1.3 卷积的变种</h4>
<p>在卷积的标准定义基础上，还可以引入卷积核的滑动<strong>步长</strong>和<strong>零填充</strong>来增加卷积的多样性，可以更灵活地进行特征抽取．</p>
<p><strong>步长</strong>（Stride）是指<strong>卷积核</strong>在<strong>滑动</strong>时的时间<strong>间隔</strong>．图5.4a给出了步长为2 的卷积示例．</p>
<p><img src="https://i.loli.net/2020/09/20/oEwzUepcQBLPtFk.png" alt=""></p>
<p><strong>零填充</strong>（Zero Padding）是在<strong>输入向量两端进行补零</strong>．图5.4b给出了输入的两端各补一个零后的卷积示例</p>
<p><img src="https://i.loli.net/2020/09/20/Me3hv6NRaoWG1H2.png" alt=""></p>
<h3 id="52-卷积神经网络"><a class="markdownIt-Anchor" href="#52-卷积神经网络"></a> 5.2 卷积神经网络</h3>
<p>卷积神经网络一般由<strong>卷积层</strong>、<strong>汇聚层</strong>和<strong>全连接层</strong>构成．</p>
<h4 id="521-用卷积代替全连接"><a class="markdownIt-Anchor" href="#521-用卷积代替全连接"></a> 5.2.1 用卷积代替全连接</h4>
<p>在<strong>全连接</strong>前馈神经网络中，权重矩阵的<strong>参数</strong>非常<strong>多</strong>，训练的<strong>效率</strong>会非常<strong>低</strong>．</p>
<p>如果采用<strong>卷积</strong>来<strong>代替全连接</strong>，第𝑙 层的<strong>净输入<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>𝒛</mi><mrow><mo stretchy="false">(</mo><mi>𝑙</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">𝒛^{(𝑙)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord boldsymbol" style="margin-right:0.13889em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span></strong> 为第𝑙 − 1 层<strong>活性值</strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>𝒂</mi><mrow><mo stretchy="false">(</mo><mi>𝑙</mi><mi mathvariant="normal">−</mi><mn>1</mn><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">𝒂^{(𝑙−1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord boldsymbol" style="margin-right:0.09426em;">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mord mtight">−</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>和<strong>卷积核</strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>w</mi><mrow><mo stretchy="false">(</mo><mi>𝑙</mi><mo stretchy="false">)</mo></mrow></msup><mo>∈</mo><msup><mi mathvariant="normal">R</mi><mi>K</mi></msup></mrow><annotation encoding="application/x-tex">w^{(𝑙)} ∈ ℝ^K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9270999999999999em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord amsrm">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span></span></span></span></span></span></span></span></span></span></span>的卷积，即</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>z</mi><mo stretchy="false">(</mo><mi>𝑙</mi><mo stretchy="false">)</mo><mo>=</mo><mi>w</mi><mo stretchy="false">(</mo><mi>𝑙</mi><mo stretchy="false">)</mo><mo>⊗</mo><mi>a</mi><mo stretchy="false">(</mo><mi>𝑙</mi><mi mathvariant="normal">−</mi><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><mi>b</mi><mo stretchy="false">(</mo><mi>𝑙</mi><mo stretchy="false">)</mo><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">z(𝑙) = w(𝑙) ⊗ a(𝑙−1) + b(𝑙),
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord">−</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">b</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mclose">)</span><span class="mpunct">,</span></span></span></span></span></p>
<p>其中<strong>卷积核</strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>w</mi><mrow><mo stretchy="false">(</mo><mi>𝑙</mi><mo stretchy="false">)</mo></mrow></msup><mo>∈</mo><msup><mi mathvariant="normal">R</mi><mi>K</mi></msup></mrow><annotation encoding="application/x-tex">w^{(𝑙)} ∈ ℝ^K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9270999999999999em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord amsrm">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.07153em;">K</span></span></span></span></span></span></span></span></span></span></span> 为<strong>可学习</strong>的<strong>权重向量</strong>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>𝑏</mi><mrow><mo stretchy="false">(</mo><mi>𝑙</mi><mo stretchy="false">)</mo></mrow></msup><mo>∈</mo><mi mathvariant="normal">R</mi></mrow><annotation encoding="application/x-tex">𝑏^{(𝑙)} ∈ ℝ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9270999999999999em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord amsrm">R</span></span></span></span> 为<strong>可学习</strong>的<strong>偏置</strong>．</p>
<p>卷积层有两个很重要的性质：</p>
<ul>
<li><strong>局部连接</strong>：在卷积层（假设是第𝑙 层）中的<strong>每一个神经元</strong>都只和<strong>下一层</strong>（第𝑙 − 1层）中某个<strong>局部窗口</strong>内的神经元<strong>相连</strong>，构成一个<strong>局部连接网络</strong>．如图5.5b所示，卷积层和下一层之间的<strong>连接数大大减少</strong>，由原来的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>𝑀</mi><mi>𝑙</mi></msup><mo>×</mo><msup><mi>𝑀</mi><mrow><mi>𝑙</mi><mi mathvariant="normal">−</mi><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">𝑀^𝑙 × 𝑀^{𝑙−1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.932438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8491079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>个连接变为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>𝑀</mi><mi>𝑙</mi></msup><mo>×</mo><mi>𝐾</mi></mrow><annotation encoding="application/x-tex">𝑀^𝑙 × 𝐾</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.932438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span></span></span></span>个连接，<strong>𝐾 为卷积核大小．</strong></li>
<li><strong>权重共享</strong>：作为参数的卷积核𝒘(𝑙) 对于第𝑙 层的所有的神经元都是相同的，可以理解为一个卷积核只捕捉输入数据中的一种特定的局部特征</li>
</ul>
<p>由于局部连接和权重共享，卷积层的参数只有一个<strong>𝐾 维的权重<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>𝒘</mi><mrow><mo stretchy="false">(</mo><mi>𝑙</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">𝒘^{(𝑙)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord boldsymbol" style="margin-right:0.11111em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span></strong> 和<strong>1 维的偏置</strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>𝑏</mi><mrow><mo stretchy="false">(</mo><mi>𝑙</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">𝑏^{(𝑙)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>，共𝐾 + 1 个参数．<strong>参数个数</strong>和<strong>神经元的数量无关</strong>．此外，第𝑙 层的神经元个数不是任意选择的，而是满足<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>𝑀</mi><mi>𝑙</mi></msup><mo>=</mo><msup><mi>𝑀</mi><mrow><mi>𝑙</mi><mi mathvariant="normal">−</mi><mn>1</mn></mrow></msup><mi mathvariant="normal">−</mi><mi>𝐾</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">𝑀^𝑙 = 𝑀^{𝑙−1} − 𝐾 + 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.9324379999999999em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord">−</span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>．</p>
<p><img src="https://i.loli.net/2020/09/21/KDRw6kNFHoZ5xTt.png" alt=""></p>
<h4 id="522-卷积层"><a class="markdownIt-Anchor" href="#522-卷积层"></a> 5.2.2 卷积层</h4>
<p><strong>卷积层</strong>的作用是<strong>提取</strong>一个<strong>局部区域的特征</strong>，<strong>不同的卷积核</strong>相当于<strong>不同的特征提取器</strong>．</p>
<p>为了更充分地<strong>利用图像</strong>的局部信息，通常将<strong>神经元</strong>组织为<strong>三维结构的神经层</strong>，其大小为<strong>高度𝑀× 宽度𝑁× 深度𝐷</strong>，由<strong>𝐷 个𝑀 × 𝑁</strong> 大小的<strong>特征映射</strong>构成．</p>
<blockquote>
<p><strong>特征映射</strong>（Feature Map）为一幅图像（或其他特征映射）在<strong>经过卷积提取到</strong>的<strong>特征</strong>，<strong>每个特征映射可以作为一类抽取的图像特征</strong>．为了提高卷积网络的表示能力，可以在<strong>每一层</strong>使用<strong>多个不同的特征映射</strong>，以更好地表示图像的特征．</p>
</blockquote>
<p>不失一般性，假设一个卷积层的结构如下：</p>
<ol>
<li><strong>输入特征映射组</strong>：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mo>∈</mo><msup><mi mathvariant="normal">R</mi><mrow><mi>𝑀</mi><mo>×</mo><mi>𝑁</mi><mo>×</mo><mi>𝐷</mi></mrow></msup></mrow><annotation encoding="application/x-tex">X ∈ ℝ^{𝑀×𝑁×𝐷}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord amsrm">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span></span></span></span></span></span></span></span></span></span></span></span> 为<strong>三维张量</strong>（Tensor），其中每个<strong>切片（Slice）矩阵</strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>𝑿</mi><mi>𝑑</mi></msup><mo>∈</mo><msup><mi mathvariant="normal">R</mi><mrow><mi>𝑀</mi><mo>×</mo><mi>𝑁</mi></mrow></msup></mrow><annotation encoding="application/x-tex">𝑿^𝑑 ∈ ℝ^{𝑀×𝑁}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.888208em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord boldsymbol" style="margin-right:0.15681em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord amsrm">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span></span></span></span>为一个<strong>输入特征映射</strong>，1 ≤ 𝑑 ≤ 𝐷；</li>
<li><strong>输出特征映射组</strong>：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Y</mi><mo>∈</mo><msup><mi mathvariant="normal">R</mi><mrow><mi>𝑀</mi><mi mathvariant="normal">′</mi><mo>×</mo><mi>𝑁</mi><mi mathvariant="normal">′</mi><mo>×</mo><mi>𝑃</mi></mrow></msup></mrow><annotation encoding="application/x-tex">Y ∈ ℝ^{𝑀′×𝑁′×𝑃}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord amsrm">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span><span class="mord mtight">′</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span><span class="mord mtight">′</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">P</span></span></span></span></span></span></span></span></span></span></span></span> 为<strong>三维张量</strong>，其中每个<strong>切片矩阵</strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>Y</mi><mi>𝑝</mi></msup><mo>∈</mo><msup><mi mathvariant="normal">R</mi><mrow><mi>𝑀</mi><mi mathvariant="normal">′</mi><mo>×</mo><mi>𝑁</mi><mi mathvariant="normal">′</mi></mrow></msup></mrow><annotation encoding="application/x-tex">Y^𝑝 ∈ ℝ^{𝑀′×𝑁′}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord amsrm">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span><span class="mord mtight">′</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> 为一个<strong>输出特征映射</strong>，1 ≤ 𝑝 ≤ 𝑃；</li>
<li><strong>卷积核</strong>：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>W</mi><mo>∈</mo><msup><mi mathvariant="normal">R</mi><mrow><mi>𝑈</mi><mo>×</mo><mi>𝑉</mi><mo>×</mo><mi>𝑃</mi><mo>×</mo><mi>𝐷</mi></mrow></msup></mrow><annotation encoding="application/x-tex">W ∈ ℝ^{𝑈×𝑉 ×𝑃×𝐷}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord amsrm">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">U</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.22222em;">V</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">P</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span></span></span></span></span></span></span></span></span></span></span></span> 为<strong>四维张量</strong>，其中每个<strong>切片矩阵</strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>𝑾</mi><mrow><mi>p</mi><mo separator="true">,</mo><mi>d</mi></mrow></msup><mo>∈</mo><msup><mi mathvariant="normal">R</mi><mrow><mi>𝑈</mi><mo>×</mo><mi>𝑉</mi></mrow></msup></mrow><annotation encoding="application/x-tex">𝑾^{p,d} ∈ ℝ^{𝑈×𝑉}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8882079999999999em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord boldsymbol" style="margin-right:0.18625em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">d</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord amsrm">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">U</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.22222em;">V</span></span></span></span></span></span></span></span></span></span></span></span> 为一个<strong>二维卷积核</strong>，1 ≤ 𝑝 ≤ 𝑃, 1 ≤ 𝑑 ≤ 𝐷．</li>
</ol>
<p><img src="https://i.loli.net/2020/09/21/iy9bqvYMcXl6zZs.png" alt=""></p>
<p>为了计算<strong>输出特征映射</strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>𝒀</mi><mi>p</mi></msup></mrow><annotation encoding="application/x-tex">𝒀^p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68611em;vertical-align:0em;"></span><span class="mord"><span class="mord boldsymbol" style="margin-right:0.19803em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span></span></span></span></span></span></span></span>，用<strong>卷积核</strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>𝑾</mi><mrow><mi>p</mi><mo separator="true">,</mo><mn>1</mn></mrow></msup><mo separator="true">,</mo><msup><mi>𝑾</mi><mrow><mi>𝑝</mi><mo separator="true">,</mo><mn>2</mn></mrow></msup><mo separator="true">,</mo><mo>⋯</mo><mo separator="true">,</mo><msup><mi>𝑾</mi><mrow><mi>𝑝</mi><mo separator="true">,</mo><mi>𝐷</mi></mrow></msup></mrow><annotation encoding="application/x-tex">𝑾^{p,1}, 𝑾^{𝑝,2}, ⋯ , 𝑾^{𝑝,𝐷}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.035771em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord boldsymbol" style="margin-right:0.18625em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mpunct mtight">,</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord boldsymbol" style="margin-right:0.18625em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord boldsymbol" style="margin-right:0.18625em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span></span></span></span></span></span></span></span></span></span></span></span><strong>分别</strong>对<strong>输入特征映射</strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>X</mi><mn>1</mn></msup><mo separator="true">,</mo><msup><mi>X</mi><mn>2</mn></msup><mo separator="true">,</mo><mo>⋯</mo><mo separator="true">,</mo><msup><mi>X</mi><mi>D</mi></msup></mrow><annotation encoding="application/x-tex">X^1, X^2, ⋯ , X^D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.035771em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span></span></span></span></span></span></span></span></span></span></span> 进行<strong>卷积</strong>，然后将卷积结果相加，并加上一个标量偏置𝑏得到卷积层的<strong>净输入<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>Z</mi><mi>p</mi></msup></mrow><annotation encoding="application/x-tex">Z^p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span></span></span></span></span></span></span></span></strong>，再经过<strong>非线性激活函数</strong>后得到<strong>输出特征映射</strong>𝒀𝑝．</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>Z</mi><mi>p</mi></msup><mo>=</mo><msup><mi>W</mi><mi>p</mi></msup><mo>⊗</mo><mi>X</mi><mo>+</mo><msup><mi>𝑏</mi><mi>𝑝</mi></msup><mo>=</mo><munderover><mo>∑</mo><mrow><mi>d</mi><mo>=</mo><mn>1</mn></mrow><mi>D</mi></munderover><msup><mi>W</mi><mrow><mi>p</mi><mo separator="true">,</mo><mi>d</mi></mrow></msup><mo>⊗</mo><msup><mi>X</mi><mi>d</mi></msup><mo>+</mo><msup><mi>𝑏</mi><mi>𝑝</mi></msup></mrow><annotation encoding="application/x-tex">Z^p = W^p ⊗ X + 𝑏^𝑝 = \sum ^D _{d=1} W^{p,d} ⊗ X^d + 𝑏^𝑝
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714392em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714392em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.797722em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714392em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.714392em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714392em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.1304490000000005em;vertical-align:-1.302113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">d</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9824379999999999em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.714392em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714392em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span></span></span></span></span></span></span></span></span></p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>Y</mi><mi>p</mi></msup><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><msup><mi>Z</mi><mi>p</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Y^p = f(Z^p)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714392em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714392em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714392em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
<p>其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>W</mi><mi>p</mi></msup><mo>∈</mo><msup><mi mathvariant="normal">R</mi><mrow><mi>𝑈</mi><mo>×</mo><mi>𝑉</mi><mo>×</mo><mi>𝐷</mi></mrow></msup></mrow><annotation encoding="application/x-tex">W^p ∈ ℝ^{𝑈×𝑉 ×𝐷}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord amsrm">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">U</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.22222em;">V</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span></span></span></span></span></span></span></span></span></span></span></span> 为<strong>三维卷积核</strong>，𝑓(⋅) 为<strong>非线性激活函数</strong>，一般用<strong>ReLU 函数</strong>．</p>
<p>整个计算过程如图5.7所示．如果希望卷积层输出P 个特征映射，可以将上述计算过程重复𝑃 次，得到𝑃 个输出特征映射<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>Y</mi><mn>1</mn></msup><mo separator="true">,</mo><msup><mi>Y</mi><mn>2</mn></msup><mo separator="true">,</mo><mo>⋯</mo><mo separator="true">,</mo><msup><mi>Y</mi><mi>𝑃</mi></msup></mrow><annotation encoding="application/x-tex">Y^1, Y^2, ⋯ , Y^𝑃</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.035771em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">P</span></span></span></span></span></span></span></span></span></span></span>．</p>
<p><img src="https://i.loli.net/2020/09/21/kWgUNAqT7SRJxbe.png" alt=""></p>
<p>在输入为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>𝒳</mi><mo>∈</mo><msup><mi mathvariant="normal">R</mi><mrow><mi>𝑀</mi><mo>×</mo><mi>𝑁</mi><mo>×</mo><mi>𝐷</mi></mrow></msup></mrow><annotation encoding="application/x-tex">𝒳 ∈ ℝ^{𝑀×𝑁×𝐷}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7391em;vertical-align:-0.0391em;"></span><span class="mord mathscr" style="margin-right:0.26006em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord amsrm">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span></span></span></span></span></span></span></span></span></span></span></span>，输出为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>𝒴</mi><mo>∈</mo><msup><mi mathvariant="normal">R</mi><mrow><mi>𝑀</mi><mi mathvariant="normal">′</mi><mo>×</mo><mi>𝑁</mi><mi mathvariant="normal">′</mi><mo>×</mo><mi>𝑃</mi></mrow></msup></mrow><annotation encoding="application/x-tex">𝒴 ∈ ℝ^{𝑀′×𝑁′×𝑃}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7391em;vertical-align:-0.0391em;"></span><span class="mord mathscr" style="margin-right:0.2939em;">Y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord amsrm">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span><span class="mord mtight">′</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span><span class="mord mtight">′</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">P</span></span></span></span></span></span></span></span></span></span></span></span>的卷积层中，每一个<strong>输出特征映射</strong>都需要<strong>𝐷 个卷积核</strong>以及<strong>一个偏置</strong>．假设每个<strong>卷积核的大小</strong>为<strong>𝑈 × 𝑉</strong>，那么共需要<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>𝑃</mi><mo>×</mo><mi>𝐷</mi><mo>×</mo><mo stretchy="false">(</mo><mi>𝑈</mi><mo>×</mo><mi>𝑉</mi><mo stretchy="false">)</mo><mo>+</mo><mi>𝑃</mi></mrow><annotation encoding="application/x-tex">𝑃 × 𝐷 × (𝑈 × 𝑉) + 𝑃</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">V</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span> 个参数．</p>
<h4 id="523-汇聚层"><a class="markdownIt-Anchor" href="#523-汇聚层"></a> 5.2.3 汇聚层</h4>
<p><strong>汇聚层</strong>（Pooling Layer）也叫<strong>子采样层</strong>（Subsampling Layer），其作用是进行特征选择，降低特征数量，从而减少参数数量．</p>
<p>可以在卷积层之后加上一个汇聚层，从而降低特征维数，避免过拟合．</p>
<p>假设汇聚层的<strong>输入特征映射组</strong>为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mo>∈</mo><msup><mi mathvariant="normal">R</mi><mrow><mi>𝑀</mi><mo>×</mo><mi>𝑁</mi><mo>×</mo><mi>𝐷</mi></mrow></msup></mrow><annotation encoding="application/x-tex">X ∈ ℝ^{𝑀×𝑁×𝐷}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord amsrm">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span></span></span></span></span></span></span></span></span></span></span></span>，对于其中<strong>每一个特征映射</strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>𝑿</mi><mi>𝑑</mi></msup><mo>∈</mo><msup><mi mathvariant="normal">R</mi><mrow><mi>𝑀</mi><mo>×</mo><mi>𝑁</mi></mrow></msup></mrow><annotation encoding="application/x-tex">𝑿^𝑑 ∈ ℝ^{𝑀×𝑁}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.888208em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord boldsymbol" style="margin-right:0.15681em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord amsrm">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span></span></span></span> , 1 ≤ 𝑑 ≤ 𝐷，将其<strong>划分为很多区域</strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>𝑅</mi><mrow><mi>m</mi><mo separator="true">,</mo><mi>n</mi></mrow><mi>d</mi></msubsup></mrow><annotation encoding="application/x-tex">𝑅^d_{m,n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.232216em;vertical-align:-0.383108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-2.4530000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">n</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.383108em;"><span></span></span></span></span></span></span></span></span></span>, 1 ≤ 𝑚 ≤ 𝑀′, 1 ≤ 𝑛 ≤ 𝑁′，这些区域可以重叠，也可以不重叠．汇聚（Pooling）是指对<strong>每个区域</strong>进行<strong>下采样</strong>（Down Sampling）得到一个值，作为这个区域的概括．</p>
<p>常用的汇聚函数有两种：<strong>最大汇聚</strong>和<strong>平均汇聚</strong></p>
<p><img src="https://i.loli.net/2020/09/21/NqjWRuzdJO7I4Mn.png" alt=""></p>
<p>图5.8给出了采样最大汇聚进行子采样操作的示例．可以看出，<strong>汇聚层</strong>不但可以<strong>有效地减少神经元的数量</strong>，还可以使得网络对一些小的局部形态改变<strong>保持不变性</strong>，并拥有<strong>更大的感受野</strong>．</p>
<p>典型的汇聚层是将每个特征映射划分为<strong>2 × 2 大小</strong>的<strong>不重叠区域</strong>，然后使用<strong>最大汇聚</strong>的方式进行下采样．<strong>过大</strong>的采样区域会<strong>急剧减少</strong>神经元的<strong>数量</strong>，也会造成<strong>过多</strong>的<strong>信息损失</strong>．</p>
<h4 id="524-卷积网络的整体结构"><a class="markdownIt-Anchor" href="#524-卷积网络的整体结构"></a> 5.2.4 卷积网络的整体结构</h4>
<p>一个典型的卷积网络是由<strong>卷积层</strong>、<strong>汇聚层</strong>、<strong>全连接层</strong>交叉堆叠而成．目前常用的卷积网络整体结构如图5.9所示．一个<strong>卷积块</strong>为连续𝑀 个卷积层和𝑏 个汇聚层（𝑀 通常设置为2 ∼ 5，𝑏 为0 或1）．一个卷积网络中可以堆叠𝑁 个连续的卷积块，然后在后面接着𝐾 个全连接层（𝑁 的取值区间比较大，比如1 ∼ 100 或者更大；𝐾 一般为0 ∼ 2）．</p>
<p><img src="https://i.loli.net/2020/09/21/cu7VIMOBEYp2kli.png" alt=""></p>
<p>目前，卷积网络的<strong>整体结构</strong>趋向于使用<strong>更小的卷积核</strong>（比如1 × 1 和3 × 3）以及<strong>更深的结构</strong>（比如层数大于50）．此外，由于卷积的操作性越来越灵活（比如不同的步长），汇聚层的作用也变得越来越小，因此目前比较流行的卷积网络中，<strong>汇聚层的比例</strong>正在逐渐<strong>降低</strong>，趋向于<strong>全卷积网络</strong>．</p>
<h3 id="53-参数学习"><a class="markdownIt-Anchor" href="#53-参数学习"></a> 5.3 参数学习</h3>
<p>在<strong>卷积网络</strong>中，<strong>参数</strong>为<strong>卷积核中权重</strong>以及<strong>偏置</strong>．和全连接前馈网络类似，<strong>卷积网络</strong>也可以通过<strong>误差反向传播算法</strong>来进行参数<strong>学习</strong>．</p>
<p>不失一般性，对第𝑙 层为卷积层，<strong>第𝑙 − 1 层</strong>的<strong>输入特征映射</strong>为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>X</mi><mrow><mo stretchy="false">(</mo><mi>𝑙</mi><mi mathvariant="normal">−</mi><mn>1</mn><mo stretchy="false">)</mo></mrow></msup><mo>∈</mo><msup><mi mathvariant="normal">R</mi><mrow><mi>𝑀</mi><mo>×</mo><mi>𝑁</mi><mo>×</mo><mi>𝐷</mi></mrow></msup></mrow><annotation encoding="application/x-tex">X^{(𝑙−1)} ∈ℝ^{𝑀×𝑁×𝐷}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9270999999999999em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mord mtight">−</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord amsrm">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span></span></span></span></span></span></span></span></span></span></span></span>，通过卷积计算得到<strong>第𝑙 层的特征映射净输入</strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>Z</mi><mrow><mo stretchy="false">(</mo><mi>𝑙</mi><mo stretchy="false">)</mo></mrow></msup><mo>∈</mo><msup><mi mathvariant="normal">R</mi><mrow><mi>𝑀</mi><mi mathvariant="normal">′</mi><mo>×</mo><mi>𝑁</mi><mi mathvariant="normal">′</mi><mo>×</mo><mi>𝑃</mi></mrow></msup></mrow><annotation encoding="application/x-tex">Z^{(𝑙)} ∈ ℝ^{𝑀′×𝑁′×𝑃}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9270999999999999em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord amsrm">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">M</span><span class="mord mtight">′</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.10903em;">N</span><span class="mord mtight">′</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">P</span></span></span></span></span></span></span></span></span></span></span></span>．<strong>第𝑙层</strong>的<strong>第𝑝(1 ≤ 𝑝 ≤ 𝑃) 个</strong>特征映射<strong>净输入</strong></p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>Z</mi><mrow><mo stretchy="false">(</mo><mi>l</mi><mo separator="true">,</mo><mi>p</mi><mo stretchy="false">)</mo></mrow></msup><mo>=</mo><munderover><mo>∑</mo><mrow><mi>d</mi><mo>=</mo><mn>1</mn></mrow><mi>D</mi></munderover><msup><mi>W</mi><mrow><mo stretchy="false">(</mo><mi>l</mi><mo separator="true">,</mo><mi>p</mi><mo separator="true">,</mo><mi>d</mi><mo stretchy="false">)</mo></mrow></msup><mo>⊗</mo><msup><mi>X</mi><mrow><mo stretchy="false">(</mo><mi>l</mi><mo>−</mo><mn>1</mn><mo separator="true">,</mo><mi>d</mi><mo stretchy="false">)</mo></mrow></msup><mo>+</mo><msup><mi>b</mi><mrow><mo stretchy="false">(</mo><mi>l</mi><mo separator="true">,</mo><mi>p</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">Z^{(l,p)} = \sum ^D _{d=1} W^{(l,p,d)} ⊗ X^{(l-1, d)} + b^{(l,p)}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.938em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">p</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.1304490000000005em;vertical-align:-1.302113em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283360000000002em;"><span style="top:-1.8478869999999998em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.302113em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">d</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.0213299999999998em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mbin mtight">−</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">d</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.938em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">p</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>在卷积网络中，每层参数的<strong>梯度</strong> <strong>依赖于</strong> 其所在层的<strong>误差项</strong><span class="katex-error" title="Error: Font metrics not found for font: .">𝛿^{(𝑙,𝑝)}</span>.<span class="katex-error" title="Error: Font metrics not found for font: .">𝛿^{(𝑙,𝑝)} = \frac {𝜕L} {𝜕𝒁^{(𝑙,𝑝)}}</span> 为<strong>损失函数</strong>关于<strong>第𝑙 层</strong>的<strong>第𝑝 个特征映射</strong>净输入𝒁(𝑙,𝑝) 的<strong>偏导数</strong>．</p>
<p>损失函数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span>关于<strong>第𝑙层</strong>的<strong>卷积核</strong><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>𝑾</mi><mrow><mo stretchy="false">(</mo><mi>𝑙</mi><mo separator="true">,</mo><mi>𝑝</mi><mo separator="true">,</mo><mi>𝑑</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">𝑾^{(𝑙,𝑝,𝑑)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord boldsymbol" style="margin-right:0.18625em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">d</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>的<strong>偏导数</strong>为</p>
<p class="katex-block katex-error" title="Error: Font metrics not found for font: .">\frac {𝜕L} {𝜕𝑾(𝑙,𝑝,𝑑)} = \frac {𝜕ℒ} {𝜕𝒁(𝑙,𝑝)} ⊗ 𝑿^{(𝑙−1,𝑑)} = 𝛿^{(𝑙,𝑝)} ⊗ 𝑿^{(𝑙−1,𝑑)}
</p>
<p>损失函数关于<strong>第𝑙 层</strong>的<strong>第𝑝 个偏置𝑏(𝑙,𝑝)</strong> 的<strong>偏导数</strong>为</p>
<p class="katex-block katex-error" title="Error: Font metrics not found for font: .">\frac {𝜕L} {𝜕𝑏(𝑙,𝑝)} = \sum _{i,j} [𝛿^{(𝑙,𝑝)}]_{𝑖,𝑗}
</p>
<h4 id="531-卷积神经网络的反向传播算法"><a class="markdownIt-Anchor" href="#531-卷积神经网络的反向传播算法"></a> 5.3.1 卷积神经网络的反向传播算法</h4>
<p>卷积层和汇聚层中误差项的计算有所不同，因此我们分别计算其误差项．</p>
<h5 id="5311-汇聚层误差项计算"><a class="markdownIt-Anchor" href="#5311-汇聚层误差项计算"></a> 5.3.1.1 汇聚层误差项计算</h5>
<p>第𝑙 层的第𝑝 个特征映射的误差项𝛿(𝑙,𝑝) 的具体推导过程如下：</p>
<p><img src="https://i.loli.net/2020/09/22/THvSnIouM5K4s9O.png" alt=""></p>
<p>其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>𝑓</mi><msub><mi mathvariant="normal">′</mi><mi>𝑙</mi></msub><mo stretchy="false">(</mo><mo>⋅</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">𝑓′_𝑙 (⋅)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord"><span class="mord">′</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">⋅</span><span class="mclose">)</span></span></span></span> 为第𝑙 层使用的激活函数导数，up 为上采样函数（up sampling），与汇聚层中使用的下采样操作刚好相反．</p>
<h5 id="5312-卷积层误差项计算"><a class="markdownIt-Anchor" href="#5312-卷积层误差项计算"></a> 5.3.1.2 卷积层误差项计算</h5>
<p>第𝑙 层的第𝑑 个特征映射的误差项𝛿(𝑙,𝑑) 的具体推导过程如下</p>
<p><img src="https://i.loli.net/2020/09/22/eaP91QKCDZXjcVo.png" alt=""></p>
<p>其中$\hat ⊗ $为<strong>宽卷积</strong>．</p>
<h3 id="54-几种典型的卷积神经网络"><a class="markdownIt-Anchor" href="#54-几种典型的卷积神经网络"></a> 5.4 几种典型的卷积神经网络</h3>
<h4 id="541-lenet-5"><a class="markdownIt-Anchor" href="#541-lenet-5"></a> 5.4.1 LeNet-5</h4>
<p>基于LeNet-5 的手写数字识别系统在20 世纪90 年代被美国很多银行使用，用来识别支票上面的手写数字．<strong>LeNet-5</strong> 的<strong>网络结构</strong>如图5.10所示</p>
<p><img src="https://i.loli.net/2020/09/22/hFTgKBrd3a5LOcp.png" alt=""></p>
<p>LeNet-5 共有<strong>7 层</strong>，接受<strong>输入图像大小</strong>为<strong>32 × 32</strong> = 1 024，<strong>输出</strong>对应<strong>10 个类别的得分</strong>．LeNet-5 中的每一层结构如下：</p>
<ol>
<li><strong>C1层</strong>是<strong>卷积层</strong>，使用<strong>6个5×5的卷积核</strong>，得到6组大小为28×28 = 784的特征映射．因此，C1 层的神经元数量为6 × 784 = 4 704，可训练参数数量为6 × 25 + 6 = 156，连接数为156 × 784 = 122 304．</li>
<li><strong>S2</strong> 层为<strong>汇聚层</strong>，<strong>采样窗口为2 × 2</strong>，使用<strong>平均汇聚</strong>，并使用一个非线性函数．神经元个数为6 × 14 × 14 = 1 176，可训练参数数量为<br>
6 × (1 + 1) = 12，连接数为6 × 196 × (4 + 1) = 5 880．</li>
<li><strong>C3</strong> 层为<strong>卷积层</strong>．LeNet-5 中用一个<strong>连接表</strong>来定义<strong>输入</strong>和<strong>输出特征映射之间</strong>的<strong>依赖关系</strong>，如图5.11所示，共使用60 个5 × 5 的卷积核，得到16 组大小为10 × 10 的特征映射．（如果不使用连接表，则需要6 × 16 = 96 个5 × 5 的卷积核．）神经元数量为16 × 100 = 1 600，可训练参数数量为(60 × 25) + 16 = 1 516，连接数为100 × 1 516 = 151 600．</li>
<li><strong>S4</strong> 层是一个<strong>汇聚层</strong>，<strong>采样窗口为2 × 2</strong>，得到16 个5 × 5 大小的特征映射，可训练参数数量为16 × 2 = 32，连接数为16 × 25 × (4 + 1) = 2 000．</li>
<li><strong>C5 层</strong>是一个<strong>卷积层</strong>，使用120 × 16 = 1 920 个<strong>5 × 5 的卷积核</strong>，得到120 组大小为1 × 1 的特征映射．C5 层的神经元数量为120，可训练参数数量为1 920 × 25 + 120 = 48 120，连接数为120 × (16 × 25 + 1) = 48 120．</li>
<li><strong>F6</strong> 层是一个<strong>全连接层</strong>，有84 个神经元，可训练参数数量为84 × (120 +1) = 10 164．连接数和可训练参数个数相同，为10 164．</li>
<li><strong>输出层</strong>：输出层由<strong>10 个径向基函数</strong>（Radial Basis Function，RBF）组成．这里不再详述．</li>
</ol>
<h5 id="5411-连接表"><a class="markdownIt-Anchor" href="#5411-连接表"></a> 5.4.1.1 连接表</h5>
<p>一般来说，卷积层的<strong>每一个输出特征映射</strong>都<strong>依赖</strong>于<strong>所有输入特征映射</strong>，相当于卷积层的<strong>输入</strong>和<strong>输出</strong>特征映射之间是<strong>全连接</strong>的关系．实际<br>
上，这种<strong>全连接关系不是必须的</strong>．我们可以让<strong>每一个输出特征映射</strong>都<strong>依赖</strong>于<strong>少数几个输入特征映射</strong>．</p>
<p>定义一个连接表（Link Table）𝑇 来描述输入和输出特征映射之间的连接关系．在LeNet-5 中，连接表的基本设定如图5.11所示．</p>
<p><img src="https://i.loli.net/2020/09/22/MPLN93ekRBHqcOT.png" alt=""></p>
<ul>
<li>C3 层的第0-5 个特征映射依赖于S2 层的特征映射组的<strong>每3 个连续子集</strong>，</li>
<li>第6-11 个特征映射依赖于S2 层的特征映射组的<strong>每4 个连续子集</strong>，</li>
<li>第12-14 个特征映射依赖于S2 层的特征映射的<strong>每4 个不连续子集</strong>，</li>
<li>第15 个特征映射依赖于S2 层的<strong>所有</strong>特征映射．</li>
</ul>
<p>如果第𝑝 个输出特征映射依赖于第𝑑 个输入特征映射，则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mrow><mi>p</mi><mo separator="true">,</mo><mi>d</mi></mrow></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">T_{p,d} = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>，否则为0．𝒀𝑝 为</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>𝒀</mi><mi>p</mi></msup><mo>=</mo><mi>𝑓</mi><mo stretchy="false">(</mo><munder><mo>∑</mo><mrow><mi>D</mi><mo separator="true">,</mo><msub><mi>T</mi><mrow><mi>p</mi><mo separator="true">,</mo><mi>d</mi></mrow></msub><mo>=</mo><mn>1</mn></mrow></munder><msup><mi>W</mi><mrow><mi>p</mi><mo separator="true">,</mo><mi>d</mi></mrow></msup><mo>⊗</mo><msup><mi>𝑿</mi><mi>d</mi></msup><mo>+</mo><msup><mi>b</mi><mi>p</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">𝒀^p = 𝑓( \sum _{D, T_{p,d} = 1} W^{p,d} ⊗ 𝑿^d + b^p)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714392em;vertical-align:0em;"></span><span class="mord"><span class="mord boldsymbol" style="margin-right:0.19803em;">Y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714392em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.547421em;vertical-align:-1.4974159999999999em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0500050000000003em;"><span style="top:-1.855664em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">D</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3487714285714287em;margin-left:-0.13889em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29011428571428566em;"><span></span></span></span></span></span></span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4974159999999999em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">d</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.9824379999999999em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord boldsymbol" style="margin-right:0.15681em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714392em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
<p>其中𝑇 为𝑃 × 𝐷 大小的连接表．假设连接表𝑇 的非零个数为𝐾，每个卷积核的大小为𝑈 × 𝑉，那么共需要𝐾 × 𝑈 × 𝑉 + 𝑃 参数．</p>
<h4 id="542-alexnet"><a class="markdownIt-Anchor" href="#542-alexnet"></a> 5.4.2 AlexNet</h4>
<p><strong>AlexNet</strong>是第一个<strong>现代深度卷积网络模型</strong>，其首次使用了很多现代深度卷积网络的技术方法，比如<strong>使用GPU</strong> 进行<strong>并行训练</strong>，采用了<strong>ReLU</strong> 作为<strong>非线性激活函数</strong>，使用<strong>Dropout</strong> 防止<strong>过拟合</strong>，使用<strong>数据增强</strong>来<strong>提高模型准确率</strong>等．AlexNet 赢得了2012 年ImageNet 图像分类竞赛的冠军．</p>
<p>AlexNet 的结构如图5.12所示，包括<strong>5 个卷积层</strong>、<strong>3 个汇聚层</strong>和<strong>3 个全连接层</strong>（其中<strong>最后一层</strong>是使用<strong>Softmax 函数</strong>的<strong>输出层</strong>）．因为网络<strong>规模超出</strong>了当时的<strong>单个GPU 的内存限制</strong>，AlexNet 将网络<strong>拆为两半</strong>，分别<strong>放在两个GPU 上</strong>，GPU 间<strong>只在某些层（比如第3 层）进行通信</strong>．</p>
<p><img src="https://i.loli.net/2020/09/22/LDTzsAWhecInyi7.png" alt=""></p>
<p>AlexNet 的<strong>输入</strong>为<strong>224 × 224 × 3 的图像</strong>，<strong>输出</strong>为<strong>1 000 个类别的条件概率</strong>，具体结构如下： 这里的卷积核使用四维张量来描述．</p>
<ol>
<li>第一个<strong>卷积层</strong>，使用两个大小为<strong>11 × 11 × 3 × 48 的卷积核</strong>，步长𝑆 = 4，零填充𝑃 = 3，得到两个大小为55 × 55 × 48 的特征映射组</li>
<li>第一个<strong>汇聚层</strong>，使用大小为<strong>3 × 3</strong> 的<strong>最大汇聚操作</strong>，步长𝑆 = 2，得到两个27 × 27 × 48 的特征映射组．这里的汇聚操作是有重叠的，以提取更多的特征．</li>
<li>第二个<strong>卷积层</strong>，使用两个大小为<strong>5 × 5 × 48 × 128 的卷积核</strong>，步长𝑆 = 1，零填充𝑃 = 2，得到两个大小为27 × 27 × 128 的特征映射组．</li>
<li>第二个<strong>汇聚层</strong>，使用大小为<strong>3 × 3 的最大汇聚操作</strong>，步长𝑆 = 2，得到两个大小为13 × 13 × 128 的特征映射组．</li>
<li>第三个<strong>卷积层</strong>为两个路径的融合，使用一个大小为3 × 3 × 256 × 384的卷积核，步长𝑆 = 1，零填充𝑃 = 1，得到两个大小为13 × 13 × 192 的特征映射组．</li>
<li>第四个<strong>卷积层</strong>，使用两个大小为<strong>3 × 3 × 192 × 192 的卷积核</strong>，步长𝑆 = 1，零填充𝑃 = 1，得到两个大小为13 × 13 × 192 的特征映射组．</li>
<li>第五个<strong>卷积层</strong>，使用两个大小为<strong>3 × 3 × 192 × 128 的卷积核</strong>，步长𝑆 = 1，零填充𝑃 = 1，得到两个大小为13 × 13 × 128 的特征映射组．</li>
<li>第三个<strong>汇聚层</strong>，使用大小为<strong>3 × 3 的最大汇聚操作</strong>，步长𝑆 = 2，得到两<br>
个大小为6 × 6 × 128 的特征映射组．</li>
<li><strong>三个全连接层</strong>，神经元数量分别为4 096、4 096 和1 000．此外，AlexNet 还在前两个汇聚层之后进行了<strong>局部响应归一化</strong>（Local Response Normalization，LRN）以<strong>增强模型的泛化能力</strong>．</li>
</ol>
<h4 id="543-inception网络"><a class="markdownIt-Anchor" href="#543-inception网络"></a> 5.4.3 Inception网络</h4>
<p>在Inception 网络中，一个卷积层包含多个不同大小的卷积操作，称为<strong>Inception 模块</strong>．Inception 网络是由有<strong>多个Inception 模块</strong>和<strong>少量的汇聚层</strong>堆叠而成．</p>
<p>Inception模块<strong>同时使用</strong>1 × 1、3 × 3、5 × 5等<strong>不同大小的卷积核</strong>，并将得到的特征映射<strong>在深度上</strong>拼接（<strong>堆叠</strong>）起来<strong>作为输出特征映射</strong>．</p>
<p><img src="https://i.loli.net/2020/09/22/4ZiVTInY1CQj5Na.png" alt=""></p>
<p>Inception 网络有多个版本，其中最早的Inception v1 版本就是非常著名的GoogLeNetGoogLeNet 由9 个Inception v1 模块和5 个汇聚层以及其他一些卷积层和全连接层构成，总共为22 层网络，如图5.14所示．</p>
<p><img src="https://i.loli.net/2020/09/22/LIn9KmtHbRvPODr.png" alt=""></p>
<p><strong>Inception v3</strong> 网络用<strong>多层的小卷积核</strong>来<strong>替换</strong> <strong>大的卷积核</strong>，以<strong>减少计算量</strong>和<strong>参数量</strong>，并<strong>保持感受野不变</strong>．</p>
<h4 id="544-残差网络"><a class="markdownIt-Anchor" href="#544-残差网络"></a> 5.4.4 残差网络</h4>
<p><strong>残差网络</strong>（Residual Network，ResNet）通过<strong>给非线性的卷积层增加直连边</strong>（Shortcut Connection）（也称为<strong>残差连接</strong>（Residual Connection））的<strong>方式</strong>来<strong>提高信息的传播效率</strong>．</p>
<p>图5.15给出了一个典型的残差单元示例．残差单元由<strong>多个级联的（等宽）卷积层</strong>和一个<strong>跨层的直连边</strong>组成，<strong>再经过ReLU 激活后</strong>得到<strong>输出</strong></p>
<p><img src="https://i.loli.net/2020/09/22/CIqvVzGBXHRZPSy.png" alt=""></p>
<p>下面解释<strong>残差结构</strong>的<strong>好处</strong></p>
<p>假设在一个深度网络中，我们期望一个<strong>非线性单元</strong>（可以为一层或多层的卷积层）𝑓(𝒙; 𝜃) 去<strong>逼近</strong>一个<strong>目标函数为ℎ(𝒙)</strong>．如果将目标函数拆分成两部分：<strong>恒等函数</strong>（Identity Function）𝒙 和<strong>残差函数</strong>（Residue Function）ℎ(𝒙) − 𝒙．</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mi>h</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>−</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h(x) = (x) + (h(x) - x)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span></span></p>
<p>根据通用近似定理，一个<strong>由神经网络构成的非线性单元</strong>有<strong>足够的能力</strong>来近似<strong>逼近原始目标函数</strong>或<strong>逼近残差函数</strong>，但实际中<strong>后者更容易学习</strong>.因此，原来的优化问题可以转换为：让<strong>非线性单元𝑓(𝒙; 𝜃)</strong> 去<strong>近似残差函数ℎ(𝒙) − 𝒙</strong>，并<strong>用𝑓(𝒙; 𝜃) + 𝒙</strong> 去<strong>逼近ℎ(𝒙)</strong>．</p>
<h3 id="55-其他卷积方式"><a class="markdownIt-Anchor" href="#55-其他卷积方式"></a> 5.5 其他卷积方式</h3>
<h4 id="551-转置卷积"><a class="markdownIt-Anchor" href="#551-转置卷积"></a> 5.5.1 转置卷积</h4>
<p>我们一般可以通过<strong>卷积操作</strong>来实现<strong>高维特征</strong>到<strong>低维特征</strong>的<strong>转换</strong>．比如在一维卷积中，一个5 维的输入特征，经过一个大小为3 的卷积核，其输出为3 维特征．但在一些任务中，我们需要将<strong>低维特征</strong>映射到<strong>高维特征</strong>，并且依然希望<strong>通过卷积操作</strong>来实现，这时我们可以采用<strong>转置卷积</strong>．</p>
<p>假设有一个<strong>高维向量</strong>为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>𝒙</mi><mo>∈</mo><msup><mi mathvariant="normal">R</mi><mi>d</mi></msup></mrow><annotation encoding="application/x-tex">𝒙 ∈ ℝ^d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord boldsymbol" style="margin-right:0.12583em;">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord"><span class="mord amsrm">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span></span></span></span></span></span></span></span> 和一个<strong>低维向量</strong>为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>z</mi><mo>∈</mo><msup><mi mathvariant="normal">R</mi><mi>p</mi></msup></mrow><annotation encoding="application/x-tex">z∈ ℝ^p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68889em;vertical-align:0em;"></span><span class="mord"><span class="mord amsrm">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">p</span></span></span></span></span></span></span></span></span></span></span>，𝑝 &lt; 𝑑．如果用<strong>仿射变换</strong>（Affine Transformation）来实现<strong>高维到低维的映射</strong></p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>z</mi><mo>=</mo><mi>W</mi><mi>x</mi></mrow><annotation encoding="application/x-tex">z = Wx
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="mord mathdefault">x</span></span></span></span></span></p>
<p>其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>W</mi><mo>∈</mo><msup><mi mathvariant="normal">R</mi><mrow><mi>𝑝</mi><mo>×</mo><mi>𝑑</mi></mrow></msup></mrow><annotation encoding="application/x-tex">W ∈ ℝ^{𝑝×𝑑}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8491079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord amsrm">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mbin mtight">×</span><span class="mord mathdefault mtight">d</span></span></span></span></span></span></span></span></span></span></span></span> 为<strong>转换矩阵</strong>．</p>
<p>我们也可以很容易地通过<strong>转置𝑾</strong> 来实现<strong>低维到高维</strong>的反向映射</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>=</mo><msup><mi>W</mi><mi>T</mi></msup><mi>z</mi></mrow><annotation encoding="application/x-tex">x = W^Tz
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8913309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span></span></span></span></span></p>
<p><strong>卷积操作</strong>也可以写为<strong>仿射变换的形式</strong>．假设一个5 维向量𝒙，经过大小为3的卷积核<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>𝒘</mi><mo>=</mo><mo stretchy="false">[</mo><mi>𝑤</mi><mn>1</mn><mo separator="true">,</mo><mi>𝑤</mi><mn>2</mn><mo separator="true">,</mo><mi>𝑤</mi><mn>3</mn><msup><mo stretchy="false">]</mo><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">𝒘 = [𝑤1, 𝑤2, 𝑤3]^T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.44444em;vertical-align:0em;"></span><span class="mord boldsymbol" style="margin-right:0.11111em;">w</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0913309999999998em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord">3</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span> 进行卷积，得到3 维向量𝒛．卷积操作可以写为</p>
<p><img src="/2020/11/11/神经网络与深度学习-5-卷积神经网络/C:%5CUsers%5CMSI-NB%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200922132111858.png" alt="image-20200922132111858"></p>
<p>如果要实现3 维向量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>z</mi></mrow><annotation encoding="application/x-tex">z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span></span></span></span>到5 维向量<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>的映射，可以通过<strong>仿射矩阵</strong>的<strong>转置</strong>来<strong>实现</strong>，即</p>
<p><img src="https://i.loli.net/2020/09/22/HLfaIpCTXBx7SwD.png" alt=""></p>
<p>从仿射变换的角度来看<strong>两个卷积操作</strong>𝒛 = 𝒘⊗𝒙和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>=</mo><mi>r</mi><mi>o</mi><mi>t</mi><mn>180</mn><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo><mover accent="true"><mo>⊗</mo><mo>^</mo></mover><mi>z</mi></mrow><annotation encoding="application/x-tex">x = rot180(w)\hat ⊗ z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.09677em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault">t</span><span class="mord">1</span><span class="mord">8</span><span class="mord">0</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.84677em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mbin">⊗</span></span><span style="top:-3.15233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;">^</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.08333em;"><span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span></span></span></span>也是<strong>形式上的转置关系</strong>． 因此，我们将低维特征映射到高维特征的卷积操作称为<strong>转置卷积</strong>（Transposed Convolution），也称为<strong>反卷积</strong>（Deconvolution）</p>
<p>对一个<strong>𝑀 维</strong>的向量𝒛，和<strong>大小为𝐾 的卷积核</strong>，如果希望通过卷积操作来映射到更高维的向量，只需要对<strong>向量𝒛进行两端补零</strong>𝑃 = 𝐾 − 1，然后进行<strong>卷积</strong>，可以得到<strong>𝑀 + 𝐾 − 1 维的向量</strong>．( 即<strong>宽卷积</strong>．)</p>
<h5 id="5511-微步卷积"><a class="markdownIt-Anchor" href="#5511-微步卷积"></a> 5.5.1.1 微步卷积</h5>
<p>我们也可以通过<strong>使转置卷积</strong>的<strong>步长𝑆 &lt; 1</strong>来实现<strong>上采样</strong>操作，大幅<strong>提高特征维数</strong>．步长𝑆 &lt; 1 的转置卷积也称为<strong>微步卷积</strong>（Fractionally-Strided Convolution）．为了实现微步卷积，我们可以在<strong>输入特征之间插入0</strong> 来间接地使得步长变小．</p>
<h4 id="552-空洞卷积"><a class="markdownIt-Anchor" href="#552-空洞卷积"></a> 5.5.2 空洞卷积</h4>
<p>对于一个卷积层，如果希望<strong>增加输出单元</strong>的<strong>感受野</strong>，一般可以通过三种方式实现：</p>
<ol>
<li>
<p><strong>增加卷积核</strong>的<strong>大小</strong>；</p>
</li>
<li>
<p><strong>增加层数</strong>，比如两层3 × 3 的卷积可以近似一层5 × 5 卷积的效果；</p>
</li>
<li>
<p>在卷积<strong>之前</strong>进行<strong>汇聚操作</strong>．</p>
</li>
</ol>
<p>前两种方式会<strong>增加参数数量</strong>，而第三种方式会<strong>丢失一些信息</strong>．</p>
<p><strong>空洞卷积</strong>（Atrous Convolution）是一种<strong>不增加参数数量</strong>， 同时<strong>增加输出单元感受野</strong>的一种方法，也称为<strong>膨胀卷积</strong>（Dilated Convolution）．</p>
<p>空洞卷积通过<strong>给卷积核</strong> **插入“空洞”**来变相地增加其大小．如果在卷积核的每两个元素之间插入𝐷 − 1 个空洞，卷积核的有效大小为</p>
<p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>𝐾</mi><mi mathvariant="normal">′</mi><mo>=</mo><mi>𝐾</mi><mo>+</mo><mo stretchy="false">(</mo><mi>𝐾</mi><mi mathvariant="normal">−</mi><mn>1</mn><mo stretchy="false">)</mo><mo>×</mo><mo stretchy="false">(</mo><mi>𝐷</mi><mi mathvariant="normal">−</mi><mn>1</mn><mo stretchy="false">)</mo><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">𝐾′ = 𝐾 + (𝐾 − 1) × (𝐷 − 1),
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mord">′</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mord">−</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord">−</span><span class="mord">1</span><span class="mclose">)</span><span class="mpunct">,</span></span></span></span></span></p>
<p>其中𝐷 称为<strong>膨胀率</strong>（Dilation Rate）．当<strong>𝐷 = 1</strong> 时卷积核为<strong>普通的卷积核</strong>．</p>
<p>图5.18给出了<strong>空洞卷积</strong>的示例．</p>
<p><img src="https://i.loli.net/2020/09/22/XM2LqTftBI6418E.png" alt=""></p>

                                                
            </div>
            <div class="article-footer">
                <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="https://t0ugh.biz/2020/11/11/神经网络与深度学习-5-卷积神经网络/" title="[神经网络与深度学习][5][卷积神经网络]" target="_blank" rel="external">https://t0ugh.biz/2020/11/11/神经网络与深度学习-5-卷积神经网络/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/t0ugh" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="https://i.loli.net/2020/03/21/WAKimNUecFR64uo.jpg" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/t0ugh" target="_blank"><span class="text-dark">T0UGH</span><small class="ml-1x">学生&amp;编程爱好者</small></a></h3>
        <div>很拽很拽很拽很拽很拽很拽很拽很拽</div>
      </div>
    </figure>
  </div>
</div>


            </div>
    </article>
    
        
  <section id="comments">
  	
      <div id="vcomments"></div>
    
  </section>


            
</div>

    <nav class="bar bar-footer clearfix" data-stick-bottom="">
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2020/11/11/神经网络与深度学习-6-循环神经网络/" title="[神经网络与深度学习][6][循环神经网络]"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;Newer</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2020/11/11/神经网络与深度学习-4-前馈神经网络/" title="[神经网络与深度学习][4][前馈神经网络]"><span>Older&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
  </ul>
  
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat" data-mobile-sites="weibo,qq,qzone"></div>
    
  </div>
  </div>
</nav>
        

            
</main>

  <footer class="footer" itemscope="" itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/t0ugh" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle="tooltip" data-placement="top"><i class="icon icon-rss"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
        	Theme by <a href="https://github.com/cofess" target="_blank"> cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.
        </div>
    </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>
<script src="/js/plugin.min.js"></script>
<script src="/js/application.js"></script>

    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>





   




   
    
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/valine"></script>
  <script type="text/javascript">
  var GUEST = ['nick', 'mail', 'link'];
  var meta = 'nick,mail,link';
  meta = meta.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#vcomments',
    verify: false,
    notify: false,
    appId: 'E1MH6h0YP3yhA0PJsohNBgiT-gzGzoHsz',
    appKey: 'YOiN6zLq3XGfKmlR0b8vyHtN',
    placeholder: 'Just go go',
    avatar: 'mm',
    meta: meta,
    pageSize: '10' || 10,
    visitor: false
  });
  </script>

     







</body>
</html>